<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Produto - MeuVestido.Com</title>
  <link href="/public/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/public/css/style.css" rel="stylesheet">
  <link href="/public/css/footer.css" rel="stylesheet">
  <style>
    #clickableDiv {
      cursor: pointer;
    }

    .thumbnail-list img {
      cursor: pointer;
      max-width: 70px;
      margin: 5px;
      border-radius: 5px;
    }

    .main-image img {
      max-width: 100%;
      border-radius: 8px;
    }

    .product-options {
      margin-top: 1rem;
    }

    .add-to-cart {
      margin-top: 1rem;
    }

    .site-footer {
      background: #f8f9fa;
      padding: 1rem;
      text-align: center;
      margin-top: 3rem;
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const thumbnails = document.querySelectorAll(".thumbnail-list img");
      const mainImage = document.querySelector(".main-image img");

      thumbnails.forEach(thumbnail => {
        thumbnail.addEventListener("click", function () {
          mainImage.src = this.src;
          mainImage.alt = this.alt;
        });
      });

      document.getElementById("clickableDiv").addEventListener("click", function () {
        window.location.href = "index.html";
      });

      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get("id");

      if (id) {
        const produtos = [
          {nome: "Vestido 1", descricao: "Descrição do vestido 1", preco: "R$ 179,90", imagem: "inicial1.png"},
          {nome: "Vestido 2", descricao: "Descrição do vestido 2", preco: "R$ 199,90", imagem: "inicial2.png"},
          {nome: "Vestido 3", descricao: "Descrição do vestido 3", preco: "R$ 159,90", imagem: "inicial3.png"},
          {nome: "Vestido 4", descricao: "Descrição do vestido 4", preco: "R$ 179,90", imagem: "inicial4.png"}
        ];

        const produto = produtos[id - 1];
        if (produto) {
          document.querySelector(".main-image img").src = produto.imagem;
          document.querySelector(".main-image img").alt = produto.nome;
          document.querySelector(".product-details h2").textContent = produto.nome;
          document.querySelector(".product-details p.description").textContent = produto.descricao;
          document.querySelector(".product-details .price").textContent = produto.preco;
        } else {
          document.querySelector(".main-image img").src = "produto_nao_encontrado.png";
          document.querySelector(".main-image img").alt = "Produto não encontrado";
          document.querySelector(".product-details h2").textContent = "Produto não encontrado";
          document.querySelector(".product-details p.description").textContent = "Desculpe, não conseguimos encontrar este produto.";
          document.querySelector(".product-details .price").textContent = "";
        }
      }
    });
  </script>
</head>

<body>
  {% include 'navbar.html' %}

  <main class="container my-5">
    <div class="row g-5">
      <div class="col-md-6">
        <div class="d-flex flex-row flex-wrap thumbnail-list mb-3">
          <img src="/public/images/vestido_lateral_esquerda1.png" alt="Miniatura 1">
          <img src="/public/images/vestido_lateral_esquerda4.png" alt="Miniatura 2">
          <img src="/public/images/vestido_lateral_esquerda3.png" alt="Miniatura 3">
          <img src="/public/images/vestido_provador.png" alt="Miniatura 4">
        </div>
        <div class="main-image">
          <img src="vestido_provador.png" alt="Vestido principal" class="img-fluid shadow-sm" />
        </div>
      </div>

      <div class="col-md-6 product-details">
        <h2>Encanto Floral</h2>
        <p class="description">
          Vestido longo de alças finas e decotes retos. Ajustado no corpo e fluído na saia em cetim, com
          fechamento em botões forrados nas costas. Elegante e minimalista, perfeito para ambientes formais ou
          intimistas.
        </p>
        <p class="text-warning fw-bold">★★★★★ (133 avaliações)</p>
        <p class="price h4">R$ 179,90 <span class="text-muted d-block small">(ou em até 5x de R$ 34,00 sem juros)</span>
        </p>

        <div class="product-options">
          <p><strong>Tamanho M</strong></p>
          <button class="btn btn-outline-secondary btn-sm">Tabela de Medidas</button>
        </div>

        <button class="btn btn-success w-100 add-to-cart">Adicionar à sacola</button>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <p>&copy; 2025 MeuVestido.Com - Todos os direitos reservados.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
